<!--
  Generated template for the OtrotacionesPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar color="liberty">
    <ion-title text-right>Rotación equipos OT {{ot}}</ion-title>
  </ion-navbar>

</ion-header>


<ion-content>
  <form [formGroup]="myForm" (ngSubmit)="saveData()">
    <ion-grid>
      <ion-item text-wrap no-lines>
        <ion-label color="dark" stacked>Objeto Original:<span danger>*</span></ion-label>
        <ionic-selectable
                item-content 
                [(ngModel)]="itemAnt"
                [items]="itemsAntiguos"
                class="busquedaestado"
                itemValueField="equipoantiguo"
                itemTextField="compequipoantiguo"
                formControlName="itemAntiguo"
                [canSearch]="true">
                <ng-template ionicSelectableItemTemplate let-port="item"
                let-isPortSelected="isItemSelected">
              <ion-label text-wrap>
                {{port.compequipoantiguo}}
              </ion-label>
            </ng-template>
          </ionic-selectable>
      </ion-item>
      <ion-item no-lines>
        <ion-label color="dark" stacked>Estado Equipo:<span danger>*</span></ion-label>
        <ion-select interface="popover" formControlName="estadoEquipo" [(ngModel)]="itemEstado" class="busquedaestado">
          <ion-option *ngFor="let estadoEquipo of estadosEquipo" value="{{estadoEquipo.estadoequipo}}">
            {{estadoEquipo.estadoequipo}}</ion-option>
        </ion-select>
      </ion-item>
      <ion-item no-lines>
        <ion-label color="dark" stacked>Objeto Nuevo:<span danger>*</span></ion-label>
        <ionic-selectable
                item-content 
                [(ngModel)]="itemNew"
                [items]="itemsNuevos"
                class="busquedaestado"
                itemValueField="equiponuevo"
                itemTextField="compequiponuevo"
                formControlName="itemNuevo"
                [canSearch]="true">
                <ng-template ionicSelectableItemTemplate let-port="item"
                let-isPortSelected="isItemSelected">
              <ion-label text-wrap>
                {{port.compequiponuevo}}
              </ion-label>
            </ng-template>
          </ionic-selectable>
      </ion-item>
      <ion-row>
      <ion-col col-11>
        <ion-item no-lines>
          <ion-label color="dark" stacked>Descripcion:<span danger>*</span></ion-label>
          <ion-input text-center formControlName="descripcionEquipo" [(ngModel)]="descripcionEquipo"></ion-input>
        </ion-item>
      </ion-col>
      <ion-col col-1>
        <button type="button" (click)="scan()" class="codigoqr"><img src="assets/imgs/qr.png"></button>
    </ion-col>
  </ion-row>
      <ion-row>
          <ion-col col-3>
            </ion-col>
        <ion-col col-4>
          <button class="botonguardar" ion-button color="dark" (click)="enviarRotacion()" [disabled]="!myForm.valid"
          rounded>Enviar Rotación y <br />Salir</button>
        </ion-col>
      </ion-row>
      <ion-row>
          <ion-col col-3>
            </ion-col>
        <ion-col col-4>
          <button class="botonguardar" ion-button color="dark" (click)="enviarRotacionAgregarOtra()"
            [disabled]="!myForm.valid" rounded>Enviar Rotación y <br />Rotar Otro AF</button>
        </ion-col>
      </ion-row>
    </ion-grid>
  </form>
</ion-content>