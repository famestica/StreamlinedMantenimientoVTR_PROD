<!--
  Generated template for the OtcrearmaterialesPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar color="liberty">
    <ion-title text-right>
      <font size="2">Materiales Utilizados OT {{valorOT}}</font>
    </ion-title>
  </ion-navbar>
</ion-header>

<ion-content>
  <form [formGroup]="myForm" (ngSubmit)="saveData()">
    <ion-grid>
      <ion-row>
        <ion-col col-12>
          <ion-item no-lines>
            <ion-label color="dark" stacked>Actividad:<span danger>*</span></ion-label>
            <ion-input text-center formControlName="actividad"></ion-input>
          </ion-item>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col col-6>
          <ion-item no-lines>
            <ion-label color="dark" stacked>Pieza:<span danger>*</span></ion-label>
            <ionic-selectable
            item-content 
            [(ngModel)]="pieza"
            [items]="items"
            class="busquedapieza"
            itemValueField="pieza"
            itemTextField="comppieza"
            formControlName="pieza"
            [canSearch]="true"
            (onChange)="llenadoCampos($event)">
            <ng-template ionicSelectableItemTemplate let-port="item"
            let-isPortSelected="isItemSelected">
              <ion-label text-wrap>
                {{port.comppieza}}
              </ion-label>
            </ng-template>
          </ionic-selectable>
          </ion-item>
        </ion-col>
        <ion-col col-6>
          <ion-item no-lines>
            <ion-label color="dark" stacked>Desc. Pieza:</ion-label>
            <ion-input text-center class="inputdescpieza" formControlName="descpieza"></ion-input>
          </ion-item>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col col-12>
          <ion-item no-lines>
            <ion-label color="dark" stacked>Stock en Estante:<span danger>*</span></ion-label>
            <ion-input text-center formControlName="stock" [(ngModel)]="stock"></ion-input>
          </ion-item>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col col-12>
          <ion-item no-lines>
            <ion-label color="dark" stacked>Estante:<span danger>*</span></ion-label>
            <ion-input text-center formControlName="estante"></ion-input>
          </ion-item>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col col-12>
          <ion-item no-lines>
            <ion-label color="dark" stacked>Cantidad Utilizada:<span danger>*</span></ion-label>
            <ion-input text-center formControlName="cantidad" (keyup)="keyUpChecker($event)" [(ngModel)]="cantidad">
            </ion-input>
          </ion-item>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col col-12>
          <ion-item no-lines>
            <ion-label color="dark" stacked>Tipo Transacci√≥n:<span danger>*</span></ion-label>
            <ion-select interface="popover" formControlName="tipotransaccion" class="busquedatransaccion" (ionChange)="showHideEstadoEquipo()">
              <ion-option *ngFor="let tipotransaccion of tipotransacciones" value="{{tipotransaccion.tipotransaccion}}">
                {{tipotransaccion.tipotransaccion}}</ion-option>
            </ion-select>
          </ion-item>
        </ion-col>
      </ion-row>
      <ion-row>
          <ion-col col-12>
            <ion-item no-lines [@showEstadoEquipo]="showEstadoEquipo">
              <ion-label color="dark" stacked>Estado Equipo:<span danger>*</span></ion-label>
              <ion-select interface="popover" formControlName="estadoEquipo" class="busquedatransaccion">
                <ion-option *ngFor="let estadoEquipo of estadosEquipo" value="{{estadoEquipo.estadoequipo}}">
                  {{estadoEquipo.estadoequipo}}</ion-option>
              </ion-select>
            </ion-item>
          </ion-col>
        </ion-row>
    </ion-grid>
    <ion-row>
      <ion-col col-4>
      </ion-col>
      <ion-col col-4>
        <button class="botonguardar" ion-button color="dark" [disabled]="!myForm.valid" (click)="enviarMaterial()"
          rounded>Enviar</button>
        </ion-col>
        <ion-col col-4>
        </ion-col>
    </ion-row>
  </form>
</ion-content>